<header class="dairy-header">
    <div class="header-inner container mx-auto px-6 flex items-center gap-8">

        <!-- ── Logo -->
        <a routerLink="/" class="logo cursor-pointer group" aria-label="MilkHaus Home">
            <div class="logo-mark">
                <img src="/dairy-products.png" alt="Logo" width="40">
            </div>
            <div class="logo-text">
                <span class="logo-title">Milk<span class="logo-accent">Haus</span></span>
                <span class="logo-tagline">FARM · FRESH · DAILY</span>
            </div>
        </a>

        <!-- ── Desktop Nav -->
        <nav class="nav-links" aria-label="Main navigation">
            <a routerLink="/" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="nav-active"
                class="nav-link">Home</a>
            <a routerLink="/products" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="nav-active"
                class="nav-link">Products</a>
            <a routerLink="/about" routerLinkActive="nav-active" [routerLinkActiveOptions]="{ exact: true }"
                class="nav-link">About</a>
            <a routerLink="/contact" routerLinkActive="nav-active" [routerLinkActiveOptions]="{ exact: true }"
                class="nav-link">Contact</a>
        </nav>

        <!-- ── Actions -->
        @if (token) {
        <div class="header-actions flex items-center gap-3 ml-auto">
            <button type="button" class="cart-btn" routerLink="/cart" aria-label="View cart">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z" />
                    <line x1="3" y1="6" x2="21" y2="6" />
                    <path d="M16 10a4 4 0 01-8 0" />
                </svg>
                <span class="btn-label">Cart</span>
                <span class="cart-badge">{{cartService.cart().length}}</span>
            </button>
            <a routerLink="/my-order" class="order-btn">My Orders</a>
            <button type="button" class="logout-btn" (click)="authService.logout()" aria-label="Sign out">
                <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.9"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4" />
                    <polyline points="16 17 21 12 16 7" />
                    <line x1="21" y1="12" x2="9" y2="12" />
                </svg>
            </button>
        </div>
        } @else {
        <div class="ml-auto">
            <a routerLink="/login" class="login-btn sm:inline-flex hidden">Login</a>
        </div>
        }

        <!-- ── Mobile Burger -->
        <button class="mobile-menu-btn" type="button" (click)="toggleMobileMenu()" [attr.aria-expanded]="menuOpen()"
            aria-label="Toggle menu">
            <span class="burger" [class.open]="menuOpen()">
                <span></span><span></span><span></span>
            </span>
        </button>
    </div>

    <!-- ── Mobile Dropdown -->
    <div class="mobile-menu" [class.open]="menuOpen()">
        <nav class="mobile-nav">
            <a routerLink="/" (click)="closeMobileMenu()" class="mobile-link">Home</a>
            <a routerLink="/products" (click)="closeMobileMenu()" class="mobile-link">Products</a>
            <a routerLink="/about" (click)="closeMobileMenu()" class="mobile-link">About</a>
            <a routerLink="/contact" (click)="closeMobileMenu()" class="mobile-link">Contact</a>
            @if (!token) { <a routerLink="/login" class="mobile-link mobile-link--cta">Login</a> }
        </nav>
        @if (token) {
        <div class="mobile-actions">
            <button routerLink="/cart" (click)="closeMobileMenu()" class="mobile-cart-btn">
                <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z" />
                    <line x1="3" y1="6" x2="21" y2="6" />
                    <path d="M16 10a4 4 0 01-8 0" />
                </svg>
                Cart
                @if (cartService.cart().length > 0) {
                <span class="mobile-badge">{{ cartService.cart().length }}</span>
                }
            </button>
            <button (click)="onLogout()" class="mobile-logout-btn">
                <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.9"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4" />
                    <polyline points="16 17 21 12 16 7" />
                    <line x1="21" y1="12" x2="9" y2="12" />
                </svg>
                Logout
            </button>
        </div>
        }
    </div>
</header>
<div class="header-spacer"></div>